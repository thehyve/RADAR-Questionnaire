<ion-content>
  <ng-container *ngIf="showIntroduction">
    <introduction
      [title]="questionTitle"
      [introduction]="introduction"
      (hide)="hideIntro()"
    ></introduction>
  </ng-container>

  <div
    #questionsContainer
    class="questions-container"
    [@enterQuestions]="showIntroduction"
  >
    <ng-container *ngIf="!showIntroduction">
      <question
        *ngFor="let question of questions; let i = index"
        [question]="question"
        [questionIndex]="i"
        [currentIndex]="currentQuestion"
        (answer)="onAnswer($event)"
      ></question>
    </ng-container>
  </div>
</ion-content>

<ng-container *ngIf="!showIntroduction">
  <ion-footer>
    <ion-toolbar>
      <div class="toolbar-progress">
        <div class="toolbar-progress-bar" [style.width]="progress + '%'"></div>
      </div>
      <ion-buttons left>
        <button
          ion-button
          left
          icon-left
          [class.disabled]="isPreviousButtonDisabled"
          (tap)="previousQuestion()"
        >
          <ion-icon [name]="iconPrevious"></ion-icon>
          <div class="toolbar-label">{{ previousButtonText }}</div>
        </button>
      </ion-buttons>

      <ion-buttons *ngIf="showExitButton" style="text-align: center;">
        <button
          ion-button
          left
          icon-left
          (tap)="stopQuestionnaire()"
        >
          <ion-icon [name]="iconValues.close"></ion-icon>
        </button>
      </ion-buttons>

      <ion-buttons right>
        <button
          ion-button
          right
          icon-right
          [class.disabled]="isNextButtonDisabled"
          (tap)="nextQuestion()"
        >
          <div class="toolbar-label">{{ nextButtonText }}</div>
          <ion-icon name="ios-arrow-forward"></ion-icon>
        </button>
      </ion-buttons>
    </ion-toolbar>
  </ion-footer>
</ng-container>
