<ion-header>
  <ion-toolbar>
<!--    <button class="logo-small" ion-button menuToggle left (tap)="showCredits()">-->
<!--      <img class="logo-small" src="assets/imgs/radar-logo.svg" alt="Logo" />-->
<!--    </button>-->
<!--    <button ion-button menuToggle right (tap)="openSettingsPage()">-->
<!--      <ion-icon name="cog"></ion-icon>-->
<!--    </button>-->
<!--    <ion-title text-center>{{ title | async }}</ion-title>-->
    <ion-title *ngIf="selectedPage === 'home'" text-center>{{ "SURVEYS_HEADING" | translate }}</ion-title>
    <ion-title *ngIf="selectedPage === 'learn'"  text-center>{{ "LEARN_HEADING" | translate }}</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>

  <div  *ngIf="selectedPage === 'home'">
    <div #taskList>
      <task-list
        *ngIf="(tasks | async)?.length"
        (task)="startQuestionnaire($event)"
        [tasks]="tasks | async"
        [currentDate]="currentDate.getTime()"
      >
      </task-list>

<!--      <task-list-->
<!--        *ngIf="(sortedTasks | async)?.size"-->
<!--        (task)="startQuestionnaire($event)"-->
<!--        [tasks]="sortedTasks | async"-->
<!--        [currentDate]="currentDate.getTime()"-->
<!--      >-->
<!--      </task-list>-->
    </div>

    <div
      class="size-dynamic"
      [class.hidden]="showCalendar"
      [@moveProgress]="showCalendar"
    >
      <task-progress
        *ngIf="tasksProgress | async"
        [progress]="tasksProgress | async"
        [forceComplete]="showCompleted"
        [noTasksToday]="(tasksProgress | async)?.numberOfTasks == 0"
      >
      </task-progress>
    </div>
  </div>

  <div
    *ngIf="selectedPage === 'learn'"
    class="size-dynamic"
  >
    <div> Learn page </div>
    <div> TO come when design finalized  </div>

    <ion-list>
      <button ion-item *ngFor="let sItem of learnItems">
        <ion-icon item-start [name]="sItem.icon"></ion-icon>
        {{ sItem.name }}
        <ion-icon item-end name="arrow-forward"></ion-icon>
      </button>
    </ion-list>
  </div>
</ion-content>

<ion-footer>
  <ion-segment padding [(ngModel)]="selectedPage" onchange="onFooterChange()">

    <ion-segment-button value="home" >
      <ion-icon name="create" ></ion-icon>
<!--      <ion-title text-center>{{ "SURVEYS_HEADING" | translate }}</ion-title>-->
    </ion-segment-button>

    <ion-segment-button value="learn">
      <ion-icon name="book" ></ion-icon>
<!--      <ion-title text-center>{{ "LEARN_HEADING" | translate }}</ion-title>-->
    </ion-segment-button>

    <ion-segment-button (ionSelect)="openSettingsPage()">
      <ion-icon name="cog" ></ion-icon>
<!--      <ion-title text-center>{{ "SETTINGS_SETTINGS" | translate }}</ion-title>-->
    </ion-segment-button>
  </ion-segment>
</ion-footer>

